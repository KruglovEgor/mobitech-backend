# Backend для мобильного приложения

## Структура
- `DBinit/` — модели, миграции, контекст БД (используется как библиотека)
- `backend/` — ASP.NET Core Web API, все контроллеры, бизнес-логика
- `docker-compose.yml` — общий запуск backend и PostgreSQL

## Быстрый старт

1. Клонируйте репозиторий
2. Запустите всё одной командой:
   ```sh
   docker compose up --build
   ```
3. Откройте Swagger для тестирования API:
   [http://localhost:5000/swagger](http://localhost:5000/swagger)

## Основные возможности
- Аутентификация и авторизация (JWT)
- CRUD для установок, оборудования, точек измерения, пользователей, ролей, статусов
- Автоматическое обновление времени изменения вверх по иерархии (MeasurementPoint → Equipment → EquipmentType → Installation)
- Справочники типов оборудования
- Эндпоинты для синхронизации и оффлайн-режима (заглушки)

## Примечания
- Все миграции применяются автоматически при запуске backend
- Для production рекомендуется отключить Swagger и использовать переменную окружения ASPNETCORE_ENVIRONMENT=Production
